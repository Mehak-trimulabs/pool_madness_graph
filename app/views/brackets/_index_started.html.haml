= cache cache_key_for_bracket_points(@pool) do
  %h2 Brackets (#{@brackets.size} total)

  %table.tables
    %thead
      %tr
        %th
        %th Name
        %th Score
        %th Possible
        - if @pool.display_best?
          %th Best
        %th Final Four
        %th Final Four
        %th Second
        %th Winner
    %tbody
      - @brackets.each_with_index do |bracket, i|
        %tr{:id => "bracket-row-#{bracket.id}"}
          %td
            = "*" if @pool.display_best? && bracket.best_possible > 2
            = "#{i+1}."
          %td
            = link_to bracket.name, bracket
          %td= bracket.points
          %td= bracket.possible_points
          - if @pool.display_best?
            %td= bracket.best_possible > 2 ? '-' : bracket.best_possible + 1
          = cache cache_key_for_bracket_final_four(bracket) do
            - bracket.sorted_four.each do |team|
              %td= team.name
